!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({3:function(e,t,n){"use strict";var o=chrome.runtime.connect({name:"toonin-extension"}),l=document.getElementById("btnShare"),s=document.getElementById("btnShareStop"),a=document.getElementById("roomText"),d=document.getElementById("roomDiv"),i=document.getElementById("btnCopy"),y=document.getElementById("roomNameInput");i.style.display="none",s.style.display="none";var c,r=document.getElementById("playRoom"),u=document.getElementById("tooninToRoom"),m=document.getElementById("stopToonin"),p=document.getElementById("mute-btn"),g=document.getElementById("muted-notif"),f=document.getElementById("peerCounter"),b=document.getElementById("roomNameSpan"),k=document.getElementById("connectSpan"),h=document.getElementById("muteSpan"),I=(document.getElementById("titleOfPage"),document.getElementById("titleText")),x=document.getElementById("volume");function v(){b.style.display="flex",l.style.display="flex",d.style.display="flex",k.style.display="flex",r.style.display="flex",l.alignItems="center",a.innerHTML="",a.style.display="none",x.stlyle.display="none"}function M(){p.style.display="none",m.style.display="none",h.style.display="none",s.style.display="none",i.style.display="none",f.style.display="none",d.style.display="none",x.style.display="none"}p.onclick=function(){g.hidden=!this.checked,o.postMessage({type:"toggleMute",value:!this.checked})},x.onchange=function(e){o.postMessage({type:"volume",value:e.target.value})},l.onclick=function(){var e=y.value;o.postMessage({type:"init",roomName:e})},s.onclick=function(){o.postMessage({type:"stopSharing"}),M(),v(),I.innerHTML=""},o.onMessage.addListener(function(e){console.log(e),"audio"==e.type?"ok"==e.status&&(localAudio.src=e.url):"roomID"==e.type?(c=e.roomID,Text.innerHTML="Your Toonin ID is: \n"+c,a.style.display="block"):"room creation fail"===e.type&&(a.innerHTML="Room Creation Failed: \n"+e.reason,d.style.display="block",console.log("failed"))}),i.onclick=function(){var e=c,t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},r.onclick=function(){o.postMessage({type:"play",roomName:u.value}),k.style.display="none",r.style.display="flex;",m.style.display="flex"},m.onclick=function(){o.postMessage({type:"stopToonin"}),M(),v(),I.innerHTML=""},chrome.tabs.query({active:!0,currentWindow:!0},function(e){var t=e[0];chrome.tabs.sendMessage(t.id,{message:"clicked_extension"})}),chrome.runtime.onMessage.addListener(function(e,t,n){"extension_state_from_background"===e.message&&e.data.roomID?(b.style.display="none",l.style.display="none",s.style.display="block",i.style.display="block",r.style.display="none",m.style.display="none",k.style.display="none",c=e.data.roomID,h.style.display="flex",p.checked=e.data.muted,g.hidden=!p.checked,a.innerHTML="Your Toonin ID is: \n"+c,d.style.display="block",f.style.display="block",f.innerHTML="You have "+e.data.peerCounter+" listeners.",x.value=100*e.data.volume,x.disabled=e.data.tabMute,b.style.display="none",btnShare.style.display="none",I.innerHTML="Currently streaming: "+e.data.title,x.style.display="block"):"extension_state_from_background"===e.message&&!e.data.roomID&&e.data.playing?(b.style.display="none",l.style.display="none",s.style.display="none",i.style.display="none",u.value=e.data.room,h.style.display="none",p.checked=e.data.muted,g.hidden=!p.checked,c=null,d.style.display="flex",f.style.display="block",f.innerHTML="Tooned into room "+e.data.room,m.style.display="block",r.style.display="none",I.innerHTML="Host is listening to: "+e.data.hostTitle,x.style.display="block"):"extension_state_from_background"!==e.message||e.data.roomID||e.data.playing||(u.disabled=!1,p.checked=e.data.muted,g.hidden=!p.checked,c=null,d.style.display="none",I.innerHTML="")}),M()}});